<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kishor's Kafeteria</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background-color: #ffe6cc;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    #game-container {
      width: 100vw;
      max-width: 430px;
      height: 100vh;
      background-color: #fff8e1;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
    }

    h1 {
      text-align: center;
      color: #cc6600;
    }

    #order-display {
      margin: 10px;
      font-size: 1.2em;
      font-weight: bold;
    }

    .ingredients {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .ingredient {
      margin: 5px;
      padding: 10px;
      background-color: #fff3e0;
      border: 2px solid #d17d00;
      border-radius: 8px;
      cursor: pointer;
    }

    #assembled-order {
      margin-top: 10px;
      min-height: 40px;
      font-size: 1em;
      color: #444;
      text-align: center;
    }

    button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #ffb84d;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <h1>Kishor's Kafeteria</h1>
    <div id="order-display">Loading order...</div>
    <div class="ingredients" id="ingredients"></div>
    <div id="assembled-order">Your assembled dish: <span id="dish">None</span></div>
    <button onclick="submitOrder()">Serve Order</button>
    <div id="feedback"></div>
  </div>

  <script>
    const orders = [
      { name: 'Bread Omelette', ingredients: ['Bread', 'Egg', 'Butter'] },
      { name: 'Aloo Paratha', ingredients: ['Dough', 'Potato', 'Butter'] },
      { name: 'Masala Maggi', ingredients: ['Maggi Noodles', 'Spices', 'Vegetables'] },
      { name: 'Chai & Samosa', ingredients: ['Tea', 'Samosa'] },
      { name: 'Paneer Sandwich', ingredients: ['Bread', 'Paneer', 'Sauce'] }
    ];

    let currentOrder = null;
    let selectedIngredients = [];

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function loadOrder() {
      selectedIngredients = [];
      const index = Math.floor(Math.random() * orders.length);
      currentOrder = orders[index];
      document.getElementById('order-display').innerText = `Customer wants: ${currentOrder.name}`;
      document.getElementById('dish').innerText = 'None';
      document.getElementById('feedback').innerText = '';

      const allIngredients = shuffle([...new Set(orders.flatMap(o => o.ingredients))]);
      const ingredientDiv = document.getElementById('ingredients');
      ingredientDiv.innerHTML = '';
      allIngredients.forEach(ingredient => {
        const el = document.createElement('div');
        el.classList.add('ingredient');
        el.innerText = ingredient;
        el.onclick = () => addIngredient(ingredient);
        ingredientDiv.appendChild(el);
      });
    }

    function addIngredient(ingredient) {
      if (!selectedIngredients.includes(ingredient)) {
        selectedIngredients.push(ingredient);
        document.getElementById('dish').innerText = selectedIngredients.join(', ');
      }
    }

    function submitOrder() {
      const isCorrect = currentOrder.ingredients.every(i => selectedIngredients.includes(i)) &&
                        selectedIngredients.length === currentOrder.ingredients.length;
      const feedback = document.getElementById('feedback');
      if (isCorrect) {
        feedback.innerText = '✅ Correct! Order served.';
        feedback.style.color = 'green';
      } else {
        feedback.innerText = '❌ Incorrect. Try again!';
        feedback.style.color = 'red';
      }
      setTimeout(loadOrder, 2000);
    }

    loadOrder();
  </script>
</body>
</html>
